<!DOCTYPE html>
    <html>
        <head>
            <!-- Required meta tags -->
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"/>

            <!-- Bootstrap CSS -->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
            <%= stylesheet_link_tag "application", :media => "all" %>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />


            <title>House</title>

            <%= csrf_meta_tags %>
            <%= csp_meta_tag %>

            <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
            <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
            <script src="https://unpkg.com/feather-icons"></script>
        </head>

        <body id="<%= controller.controller_name %>" class="<%= controller.action_name %><%= "show-sidebar" if @show_sidebar.present? %>">
            <% if @show_sidebar.nil? %>
                <header>
                    <%= render "layouts/public" %>
                    <%= yield %>
                </header>
            <% else %>
                <%= render "layouts/dashboard" %>
            
            <% if notice %>
                    <%= render 'layouts/alerts' %>
            <% end %>


                <div class="container-fluid">
                    <div class="row">
                        <%= render "layouts/sidebar" %>
                        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
                            <%= yield %>
                        </main>
                    </div>
                </div>
            <% end %>
            <%= render "layouts/footer" %>
            
            <div id="notifications"><%= flash_notifications %></div>
            <script>feather.replace()</script>
        </body>
    </html>

